import{y as r,r as u}from"./index-DnUh9K67.js";const t=r.service("issues"),n=u([]);t.on("patched",s=>{const i=n.value.findIndex(a=>a.id===s.id);n.value.splice(i,1,s)});t.on("created",s=>{n.value.push(s)});t.on("removed",s=>{const i=n.value.findIndex(a=>a.id===s.id);n.value.splice(i,1)});t.on("updated",s=>{const i=n.value.findIndex(a=>a.id===s.id);n.value.splice(i,1,s)});function f(){const s=()=>({fk_book:0,date:"",issue:"",entered_by:"",resolved:!1}),i=async e=>{const o=await t.find({query:e});return n.value=o.data,n},a=async e=>await t.get(e),d=async e=>"id"in e?await t.patch(e.id,e):await t.create(e);return{issues:n,emptyIssue:s,findIssues:i,getIssue:a,saveIssue:d,removeIssue:async e=>{await t.remove(e)},toggleResolved:async e=>{const o=await a(e);return o.resolved=!o.resolved,await d(o)}}}export{f as u};
