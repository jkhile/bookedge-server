import{y as o,r as c}from"./index-DZhxj18n.js";const t=o.service("releases"),s=c([]);t.on("patched",e=>{const n=s.value.findIndex(i=>i.id===e.id);s.value.splice(n,1,e)});t.on("created",e=>{s.value.push(e)});t.on("removed",e=>{const n=s.value.findIndex(i=>i.id===e.id);s.value.splice(n,1)});t.on("updated",e=>{const n=s.value.findIndex(i=>i.id===e.id);s.value.splice(n,1,e)});function u(){return{releases:s,emptyRelease:()=>({fk_book:0,status:"active",release_type:"",full_distribution:!1,preorder:!1,enable_look_inside:!0,sku:"",trim_size:"",color:"",paper:"",binding:"",cover_finish:"",page_count:0,spine_width:0,weight:0,carton_quantity:0,asin:"",drm:!1,kdp_select:!1,kdp_match_book:!1,submission_date:"",acceptance_date:"",pre_order_date:"",publication_date:"",amazon_sales_page:"",bn_sales_page:"",apple_sales_page:"",kobo_sales_page:"",google_sales_page:"",notes:""}),findReleases:async a=>{const l=await t.find({query:a});return s.value=l.data,s},getRelease:async a=>await t.get(a),saveRelease:async a=>"id"in a?await t.patch(a.id,a):await t.create(a),archiveRelease:async a=>{await t.patch(a,{status:"archived"})}}}export{u};
