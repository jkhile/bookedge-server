import{y as n,r as c}from"./index-DE6ujUE8.js";const _=n.service("books"),o=c([]);_.on("patched",e=>{const s=o.value.findIndex(i=>i.id===e.id);o.value.splice(s,1,e)});_.on("created",e=>{o.value.push(e)});_.on("removed",e=>{const s=o.value.findIndex(i=>i.id===e.id);o.value.splice(s,1)});_.on("updated",e=>{const s=o.value.findIndex(i=>i.id===e.id);o.value.splice(s,1,e)});function u(){return{booksService:_,books:o,emptyBook:()=>({fk_imprint:0,fk_derived_from:null,derived_type:"original",title:"",subtitle:"",accounting_code:"",isbn_paperback:"",isbn_hardcover:"",isbn_epub:"",isbn_ibooks:"",status:"contract negotiation",copyright_holder:"",copyright_year:"",language:"English",short_description:"",long_description:"",back_cover_text:"",jacket_front_text:"",jacket_back_text:"",is_public_domain:!1,keywords:"",bisac_code_1:"",bisac_name_1:"",bisac_code_2:"",bisac_name_2:"",bisac_code_3:"",bisac_name_3:"",amazon_category_1:"",amazon_category_2:"",amazon_category_3:"",thema:"",audience:"",series_name:"",series_number:0,edition_name:"",edition_number:0,right_to_left:!1,contains_prior_work:"",contains_others_work:"",web_domain:"",published_word_count:0,image_count:0,press_contact:"",legal_notice:"",featured_ads:"",goodreads_reviews_link:"",amazon_sales_page_link:"",amazon_a_plus_link:"",a_plus_description_1:"",a_plus_text_1:"",a_plus_is_live_1:!1,a_plus_rejection_reason_1:"",a_plus_image_1:"",a_plus_description_2:"",a_plus_text_2:"",a_plus_is_live_2:!1,a_plus_rejection_reason_2:"",a_plus_image_2:"",a_plus_description_3:"",a_plus_text_3:"",a_plus_is_live_3:!1,a_plus_rejection_reason_3:"",a_plus_image_3:"",errata:"",notes:"",author:"",published_date:"",issues_count:0}),findBooks:async a=>{const t=await _.find({query:a});return o.value=t.data,o},getBook:async a=>await _.get(a),saveBook:async a=>"id"in a?await _.patch(a.id,a):await _.create(a),archiveBook:async a=>{await _.patch(a,{status:"archived"})}}}export{u};
